<HTML>
    <HEAD>
        <TITLE>Portfolio</TITLE>

        <LINK rel="stylesheet" href="/autoComplete.css">
        <LINK rel="stylesheet" href="/research.css">

        <SCRIPT type="text/javascript" src="/commonStocks.js"></SCRIPT>
        <SCRIPT type="text/javascript" src="/autoCompleteTextBox.js"></SCRIPT>
        <SCRIPT type="text/javascript">
            window.onload = function () {
                makeAutoCompleteTextBox(document.getElementById("stockSymbol"), commonStocks);

                var chart = new CanvasJS.Chart("chartContainer", {
                    theme: "light1",
                    animationEnabled: true,
                    title:{
                        text: "{{companyName}}"
                    },
                    data: [
                        {
                            type: "spline",
                            dataPoints: [
                                {{{dataPoints}}}
                            ]
                        }
                    ]
                });
                chart.render();
            }
        </SCRIPT>
    </HEAD>
    <BODY>
        <H1>Research</H1>
        {{{errorMessage}}}
        <FORM autocomplete="off" method="POST" action="/research">
            <TABLE>
                <TR>
                    <TD>Stock Symbol</TD>
                    <TD><div class="autocomplete">
                        <INPUT type="text" id="stockSymbol" name="stockSymbol" placeholder="Type here for suggestions...">
                    </div></TD>
                    <TD><INPUT type="submit"></TD>
                </TR>
            </TABLE>
        </FORM>
        <BR>
        {{{stockStatistics}}}
        <BR>
        <DIV id="chartContainer" style="height: 400px; width: 500px;"></DIV>
        <SCRIPT src="https://canvasjs.com/assets/script/canvasjs.min.js"></SCRIPT>
    </BODY>
    <BR>
    <A href="/portfolio">View portfolio</A>
</HTML>
